{% load static %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <input type="text" value="Enter the Title here">
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>

    <meta name="keywords" content=""/>
    <meta name="description" content=""/>

    <link rel="stylesheet" type="text/css"
          href="http://yui.yahooapis.com/2.7.0/build/reset-fonts-grids/reset-fonts-grids.css" media="all"/>
    <link rel="stylesheet" type="text/css" href="{% static "css/style.css" %}" media="all"/>

    <style>
        /* Basic Styling - You can customize this further */

        .yui-gf {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .yui-u {
            padding: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div id="doc2" class="yui-t7">
    <div id="inner">

        <div id="hd">
            <div class="yui-gc">
                <div class="yui-u first">
                    <h2><input type="text" placeholder="Your name:" name="full_name"></h2>
                    <br>
                    <h2><input type="text" placeholder="Your position example: Backend developer" name="position"></h2>
                </div>

                <div class="yui-u">
                    <div class="contact-info">
                        <h3><a id="pdf" href="#">Download PDF</a></h3>
                        <h3><a><input type="email" placeholder="Your email:" name="email"></a></h3>
                        <br>
                        <h3><input type="text" name="phone_number" placeholder="Your phone number:"></h3>
                    </div><!--// .contact-info -->
                </div>
            </div><!--// .yui-gc -->
        </div><!--// hd -->

        <div id="bd">
            <div id="yui-main">
                <div class="yui-b">

                    <div class="yui-gf">
                        <div class="yui-u first">
                            <h2>Profile</h2>
                        </div>
                        <div class="yui-u">
                            <p class="enlarge">
                                <textarea type="text" name="profile" placeholder="About you"></textarea>
                            </p>
                        </div>
                    </div><!--// .yui-gf -->

                    <div class="container">
                        <div class="yui-gf">
                            <div class="yui-u first">
                                <h2>Skills</h2>
                            </div>
                            <div class="yui-u">
                                <button id="addSkillBtn">Add Skill</button>
                            </div>
                        </div>
                        <div id="skillsContainer">
                            <!-- Skills will be added here -->
                        </div>
                    </div>

                    <!-- Modal for Adding/Editing Skills -->
                    <div id="skillModal" class="modal">
                        <div class="modal-content">
                            <span class="close" onclick="closeModal()">&times;</span>
                            <h2>Skill Details</h2>
                            <input type="hidden" id="skillId">
                            <label for="skillName">Skill Name:</label>
                            <input type="text" id="skillName" required><br><br>
                            <label for="skillDescription">Description:</label>
                            <textarea id="skillDescription" rows="4"></textarea><br><br>
                            <button onclick="saveSkill()">Save</button>
                        </div>
                    </div>
                    <div class="yui-gf">
                        <div class="yui-u first">
                            <h2>Technical</h2>
                        </div>
                        <div class="yui-u">
                            <ul class="talent">
                                <li>XHTML</li>
                                <li>CSS</li>
                                <li class="last">Javascript</li>
                            </ul>

                            <ul class="talent">
                                <li>Jquery</li>
                                <li>PHP</li>
                                <li class="last">CVS / Subversion</li>
                            </ul>

                            <ul class="talent">
                                <li>OS X</li>
                                <li>Windows XP/Vista</li>
                                <li class="last">Linux</li>
                            </ul>
                        </div>
                    </div><!--// .yui-gf-->

                    <div class="yui-gf">

                        <div class="yui-u first">
                            <h2>Experience</h2>
                        </div><!--// .yui-u -->

                        <div class="yui-u">

                            <div class="job">
                                <h2>Facebook</h2>
                                <h3>Senior Interface Designer</h3>
                                <h4>2005-2007</h4>
                                <p>Intrinsicly enable optimal core competencies through corporate relationships.
                                    Phosfluorescently implement worldwide vortals and client-focused imperatives.
                                    Conveniently initiate virtual paradigms and top-line convergence. </p>
                            </div>

                            <div class="job">
                                <h2>Apple Inc.</h2>
                                <h3>Senior Interface Designer</h3>
                                <h4>2005-2007</h4>
                                <p>Progressively reconceptualize multifunctional "outside the box" thinking through
                                    inexpensive methods of empowerment. Compellingly morph extensive niche markets with
                                    mission-critical ideas. Phosfluorescently deliver bricks-and-clicks strategic theme
                                    areas rather than scalable benefits. </p>
                            </div>

                            <div class="job">
                                <h2>Microsoft</h2>
                                <h3>Principal and Creative Lead</h3>
                                <h4>2004-2005</h4>
                                <p>Intrinsicly transform flexible manufactured products without excellent intellectual
                                    capital. Energistically evisculate orthogonal architectures through covalent action
                                    items. Assertively incentivize sticky platforms without synergistic materials. </p>
                            </div>


                            <div class="job last">
                                <h2>International Business Machines (IBM)</h2>
                                <h3>Lead Web Designer</h3>
                                <h4>2001-2004</h4>
                                <p>Globally re-engineer cross-media schemas through viral methods of empowerment.
                                    Proactively grow long-term high-impact human capital and highly efficient
                                    innovation. Intrinsicly iterate excellent e-tailers with timely e-markets.</p>
                            </div>

                        </div><!--// .yui-u -->
                    </div><!--// .yui-gf -->


                    <div class="yui-gf last">
                        <div class="yui-u first">
                            <h2>Education</h2>
                        </div>
                        <div class="yui-u">
                            <h2>Indiana University - Bloomington, Indiana</h2>
                            <h3>Dual Major, Economics and English &mdash; <strong>4.0 GPA</strong></h3>
                        </div>
                    </div><!--// .yui-gf -->


                </div><!--// .yui-b -->
            </div><!--// yui-main -->
        </div><!--// bd -->

        <div id="ft">
            <p>Jonathan Doe &mdash; <a href="mailto:name@yourdomain.com">name@yourdomain.com</a> &mdash; (313) -
                867-5309</p>
        </div><!--// footer -->

    </div><!-- // inner -->


</div><!--// doc -->

<script>
    // Get DOM Elements
    const skillsContainer = document.getElementById('skillsContainer');
    const addSkillBtn = document.getElementById('addSkillBtn');
    const skillModal = document.getElementById('skillModal');
    const closeModalBtn = document.querySelector('.close');
    const skillNameInput = document.getElementById('skillName');
    const skillDescriptionInput = document.getElementById('skillDescription');
    const skillIdInput = document.getElementById('skillId');

    // Function to close the modal
    function closeModal() {
        skillModal.style.display = 'none';
        // Clear inputs after closing
        skillNameInput.value = '';
        skillDescriptionInput.value = '';
        skillIdInput.value = '';
    }

    // Function to open the modal
    function openModal(skillId = null) {
        if (skillId) {
            // **Call getSkill AFTER skillsData is populated**
            renderSkills(); // Make sure skillsData is rendered first
            const skill = getSkill(skillId);
            if (skill) { // Check if skill is found
                skillNameInput.value = skill.name;
                skillDescriptionInput.value = skill.description;
                skillIdInput.value = skillId;
            } else {
                console.error("Skill with ID:", skillId, "not found.");
            }
        } else {
            // ... (rest of your code)
        }
        skillModal.style.display = 'block';
    }

    // Function to save/update a skill
    function saveSkill() {
        const skillId = skillIdInput.value;
        const skillName = skillNameInput.value;
        const skillDescription = skillDescriptionInput.value;

        // Validation - You might add more robust validation here
        if (!skillName || !skillDescription) {
            alert("Please fill in all fields.");
            return;
        }

        // Store/update skill
        if (skillId) {
            updateSkill(skillId, skillName, skillDescription);
        } else {
            addSkill(skillName, skillDescription);
        }

        // Close the modal
        closeModal();
    }

    // Functions to manage skills data (replace with your actual storage mechanism)
    let skillsData = []; // Example - using an array in-memory

    function addSkill(name, description) {
        const newSkill = {id: Date.now(), name, description}; // Generate a unique ID
        skillsData.push(newSkill);
        renderSkills();
    }

    function updateSkill(id, name, description) {
        const skillIndex = skillsData.findIndex(skill => skill.id === parseInt(id));
        if (skillIndex !== -1) {
            skillsData[skillIndex] = {id, name, description};
            renderSkills();
        }
    }

    function deleteSkill(id) {
        const skillIndex = skillsData.findIndex(skill => skill.id === parseInt(id));
        if (skillIndex !== -1) {
            skillsData.splice(skillIndex, 1);
            renderSkills();
        }
    }

    function getSkill(id) {
        return skillsData.find(skill => skill.id === parseInt(id));
    }

    // Function to render the skills on the page
    function renderSkills() {
        skillsContainer.innerHTML = ''; // Clear existing skills

        skillsData.forEach(skill => {
            const skillElement = document.createElement('div');
            skillElement.classList.add('talent');

            skillElement.innerHTML = `
                <h2>${skill.name}</h2>
                <p>${skill.description}</p>
                <button onclick="openModal(${skill.id})">Edit</button>
                <button onclick="deleteSkill(${skill.id})">Delete</button>
                `;
            skillsContainer.appendChild(skillElement);
        });
    }

    // Event Listeners
    addSkillBtn.addEventListener('click', openModal);
    closeModalBtn.addEventListener('click', closeModal);

    // Initial rendering of skills (if you have any pre-existing skills)
    renderSkills();
</script>
</body>
</html>


